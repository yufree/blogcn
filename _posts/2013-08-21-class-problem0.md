---
layout: post
title: 赌徒分金问题
---

1494年帕西里奥的著作首先提出，具体描述如下：

> 两个赌徒A、B各下注a元，胜率各为50%，约定先赢S局者可得2a元，当a赢s1局，b赢s2局时，比赛因故中断，问题是如何公平分配所有赌注2a元。例如S为6，s1为5，s2为2。

- 原作者给出的答案的是s1：s2分配，也就是说按照5：2去分配
- 1556年，塔太格利亚提出若s1>s2，那么首先A可以取回自己的赌本a元，然后去走B的(s1-s2)/s*a元，换句话，就是按照(S+s1-s2)/(S-s1+s2) 的比例，也就是3：1去分配
- 1603年，法雷斯太尼提出应按照(2S-1+s1-s2)/(2S-1-s1+s2) 的比例，也就是7：4去分配
- 1539年，卡丹诺记r=S-s提出按r2(r2+1)/r1(r1+1) 的比例，也就是10：1去分配

这里要明晰的是期望与概率的关系，前面几种算法除了卡丹诺的都根据的是既成事实也就是经验来判断分配比例，那个最初的胜率50%基本不考虑。但公平的游戏每一局都是独立的而如果比赛继续，最多经过r=r1+r2-1局就会结束。如果A获胜，在r局中赢r1局即可，也就是个二项分布的累计概率p，B取胜的概率为(1-p)，注金按这个比例分配就可以，也就是15：1，这个结果是帕斯卡在1654年提出的。在这种算法下，前面的成绩只决定了后面比赛的长短，而获胜的可能性则完全交给了50%的胜率。如果从头考虑这个问题，发展到第七局这个赛况也是从最初的胜率来的，如果以此为起点，前面概率无论多么小都是1了，好比将杨辉三角的顶端砍掉，从一个分支开始考虑问题发展。

此外，还有一种思路是从最坏可能去思考，也就是比赛最长时的概率是多少，最短又是多少，然后分别计算不同比赛长度的概率，前面的都是当前优势方的概率，累计可得，最后一种情况也就是最长比赛长度对应的是当前劣势方取胜的概率，其实只要算出这个数p，1-p就可以得到答案了。同时我们知道，最后一次必然是劣势方取胜，所以这个概率分布有点类似几何分布，其实这是负二项分布，几何分布只是它的一个特例。那么这种计算方法有什么应用呢？因为计算的是最长距离，可以用在时间估计上，当然二项分布也可以，就是需要绕一下。