---
layout: post
title: R tips
---

使用R解决常见问题（除了《153 分钟学会 R》提到的以外）

## 生成随机整数

### 问题描述

我需要完全随机设计，从0到20里随机排序，按照排序去分组

### 问题解决

```{r}
x <- 1:20
y <- sample(x)
group1 <- y[1:10]
group2 <- y[11:20]
```

----

## 实验设计中的样本数

### 问题描述

我想知道我所做的实验所需要的样本数。置信水平α表示假阳性；假阴性错误概率用β表示，1-β表示功效，用power表示，与置信水平一样，需要事先确定；还有一个需要预设的是你期望看到的差异值；有了这三个预设值，你就可以得到一个有统计意义的实验所需的样本数。事实上，这四个参数知道其中任意三个，你就可以计算第四个数，所以预实验很重要。

### 问题解决

```{r}
power.t.test(power = .90, delta = 1,sig.level = 0.05) # delta表示你想看到的差异值 数据标准化要处理好
```

这个问题隶属功效分析，R中 **pwr** 包专门用来做功效分析，可参考[这篇文章](http://www.statmethods.net/stats/power.html)

----

## 使用knitr包rmd文档如何得到图片与文字的混排的html5幻灯片？

markdown语法相对简单，输出幻灯片中结构的调整最好直接修改html文件来调整，或者你可以考虑pandoc中对markdown语法的扩展，利用表格并将图片与文字放到两个单元格中来实现间接的混排。

